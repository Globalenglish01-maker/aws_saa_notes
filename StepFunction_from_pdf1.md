### ç¬¬1-1é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬1é¡µ
Other Serverless
--- ç¬¬1é¡µç»“æŸ ---

```

### ç¬¬2-2é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬2é¡µ
AWS Step Functions
â€¢ Model your workflows as state
machines (one per workflow)
â€¢ Order fulfillment, Data processing
â€¢ Web applications, Any workflow
â€¢ Written in JSON
â€¢ Visualization of the workflow and
the execution of the workflow, as
well as history
â€¢ Start workflow with SDK call, API
Gateway, Event Bridge
(CloudWatch Event)
--- ç¬¬2é¡µç»“æŸ ---

```

### ç¬¬3-3é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬3é¡µ
Step Function â€“ Task States
â€¢ Do some work in your state machine
â€¢ Invoke one AWS service
â€¢ Can invoke a Lambda function
â€¢ Run an AWS Batch job
â€¢ Run an ECS task and wait for it to complete
â€¢ Insert an item from DynamoDB
â€¢ Publish message to SNS, SQS
â€¢ Launch another Step Function workflowâ€¦
â€¢ Run an one Activity
â€¢ EC2, Amazon ECS, on-premises
â€¢ Activities poll the Step functions for work
â€¢ Activities send results back to Step Functions
Task State
Lambda
Batch
ECS
DynamoDB
SNS
SQS
Activity
Task
App server
Poll for work
Send results
--- ç¬¬3é¡µç»“æŸ ---

```

### ç¬¬4-4é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬4é¡µ
Example â€“ Invoke Lambda Function
--- ç¬¬4é¡µç»“æŸ ---

```

### ç¬¬5-5é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬5é¡µ
Step Function - States
â€¢ Choice State - Test for a condition to send to a branch (or default branch)
â€¢ Fail or Succeed State - Stop execution with failure or success
â€¢ Pass State - Simply pass its input to its output or inject some fixed data,
without performing work.
â€¢ Wait State - Provide a delay for a certain amount of time or until a
specified time/date.
â€¢ Map State - Dynamically iterate steps.â€™
â€¢ Parallel State - Begin parallel branches of execution.
--- ç¬¬5é¡µç»“æŸ ---

```

### ç¬¬6-6é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬6é¡µ
Visual workflow in Step Functions
--- ç¬¬6é¡µç»“æŸ ---

```

### ç¬¬7-7é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬7é¡µ
Error Handling in Step Functions
â€¢ Any state can encounter runtime errors for various reasons:
â€¢ State machine definition issues (for example, no matching rule in a Choice state)
â€¢ Task failures (for example, an exception in a Lambda function)
â€¢ Transient issues (for example, network partition events)
â€¢ Use Retry (to retry failed state) and Catch (transition to failure path) in the
State Machine to handle the errors instead of inside the Application Code
â€¢ Predefined error codes:
â€¢ States.ALL : matches any error name
â€¢ States.Timeout: Task ran longer than TimeoutSeconds or no heartbeat received
â€¢ States.TaskFailed: execution failure
â€¢ States.Permissions: insufficient privileges to execute code
â€¢ The state may report is own errors
--- ç¬¬7é¡µç»“æŸ ---

```

### ç¬¬8-8é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬8é¡µ
Step Functions â€“ Retry (Task or Parallel State)
â€¢ Evaluated from top to bottom
â€¢ ErrorEquals: match a specific kind
of error
â€¢ IntervalSeconds: initial delay
before retrying
â€¢ BackoffRate: multiple the delay
after each retry
â€¢ MaxAttempts: default to 3, set to
0 for never retried
â€¢ When max attempts are reached,
the Catch kicks in
--- ç¬¬8é¡µç»“æŸ ---

```

### ç¬¬9-9é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬9é¡µ
Step Functions â€“ Catch (Task or Parallel State)
â€¢ Evaluated from top to bottom
â€¢ ErrorEquals: match a specific
kind of error
â€¢ Next: State to send to
â€¢ ResultPath - A path that
determines what input is sent
to the state specified in the
Next field.
--- ç¬¬9é¡µç»“æŸ ---

```

### ç¬¬10-10é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬10é¡µ
Step Function â€“ ResultPath
â€¢ Include the error in the input
INPUT
OUTPUT WITH
ERROR
USING RESULTPATH
--- ç¬¬10é¡µç»“æŸ ---

```

### ç¬¬11-11é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬11é¡µ
Step Functions â€“ Wait for Task Token
â€¢ Allows you to pause Step Functions during a Task until a Task Token is
returned
â€¢ Task might wait for other AWS services, human approval, 3rd party
integration, call legacy systemsâ€¦
â€¢ Append .waitForTaskToken to the Resource field to tell Step Functions
to wait for the Task Token to be returned
â€¢ Task will pause until it receives that Task Token back with a
SendTaskSuccess or SendTaskFailure API call
--- ç¬¬11é¡µç»“æŸ ---

```

### ç¬¬12-12é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬12é¡µ
Step Functions â€“ Wait for Task Token
Step Functions Workflow
Start
End
Check Credit
Result
Approved
Denied
Send Response
Credit Check
Failed
SQS Queue
(MyQueue)
Lambda
ECS
3rd Party
â€¦
call SQS with Task Token
poll messages
Process Messages
Task completed
SendTaskSuccess API call
--- ç¬¬12é¡µç»“æŸ ---

```

### ç¬¬13-13é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬13é¡µ
Step Functions â€“ Activity Tasks
â€¢ Enables you to have the Task work performed by an
Activity Worker
â€¢ Activity Worker apps can be running on EC2, Lambda,
mobile deviceâ€¦
â€¢ Activity Worker poll for a Task using GetActivityTask API
â€¢ After Activity Worker completes its work, it sends a
response of its success/failure using SendTaskSuccess or
SendTaskFailure
â€¢ To keep the Task active:
â€¢ Configure how long a task can wait by setting TimeoutSeconds
â€¢ Periodically send a heartbeat from your Activity Worker using
SendTaskHeartBeat within the time you set in
HeartBeatSeconds
â€¢ By configuring a long TimeoutSeconds and actively
sending a heartbeat, Activity Task can wait up to 1 year
EC2 Instance
(Activity Worker)
Step Functions
1. Poll for Task
(GetActivityTask)
2. Task
(input & TaskToken)
3. Task completed
(output & TaskToken)
(SendTaskSuccess)
--- ç¬¬13é¡µç»“æŸ ---

```

### ç¬¬14-14é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬14é¡µ
Step Functions â€“ Standard vs. Express
Step Functions
Workflows
Standard (default)
Express
Asynchronous
At-least once
Synchronous
At-most once
Max. Duration
Up to 1 year
Up to 5 minutes
Execution Model
Exactly-once Execution
Execution Rate
Over 2000 / second
Over 100,000 / second
Execution History
Pricing
Up to 90 days or using CloudWatch
CloudWatch Logs
# of State Transitions
# of executions, duration,
and memory consumption
Use cases
Non-idempotent actions
(e.g., processing Payments)
IoT data ingestion, streaming data,
mobile app backends, â€¦
Doesnâ€™t wait for Workflow to complete
(get results from CW Logs)
Wait for Workflow to complete
You donâ€™t need an immediate response
(e.g., messaging services)
You need an immediate response
(e.g., orchestrate microservices)
Must manage idempotence
Can be invoked from
API Gateway or Lambda function
--- ç¬¬14é¡µç»“æŸ ---

```

### ç¬¬15-15é¡µ

```
ä½ å°†æ¥æ”¶åˆ°ä¸€é¡µè‹±è¯­åŸæ–‡ï¼Œä½œä¸ºå°ç™½ï¼Œæˆ‘å®Œå…¨çœ‹ä¸æ‡‚è®°ä¸ä½å•Šï¼Œæ€ä¹ˆåŠï¼Ÿ
è§£é‡Šæ—¶ï¼Œå…ˆæä¾›å¦‚ä¸‹å†…å®¹
1. æ ¼å¼åŒ–å¥½çš„åŸæ–‡ï¼Œ
2. æ ¼å¼åŒ–ååŸæ–‡åŠå…¶é€å¥å¯¹åº”çš„å›½é™…éŸ³æ ‡
3. åŸæ–‡çš„ä¸­æ–‡ç¿»è¯‘ï¼Œ
4. ç¼©å†™è¯¦è§£ï¼Œ
5. è‹±è¯­å…³é”®è¯è¯¦è§£ï¼Œ
6. é€Ÿè§ˆç‰ˆï¼ˆ30 ç§’å†…èƒ½è¯»å®Œï¼‰
ğŸ”‘ æœ¬é¡µé‡ç‚¹ï¼šä¸€å¥è¯æ€»ç»“
ğŸ“Œ å…³é”®è¯ï¼šæ ¸å¿ƒæœ¯è¯­
ğŸ¯ å­¦ä¹ æç¤ºï¼šæœ€å¯èƒ½å‡ºç°åœ¨è€ƒè¯•é‡Œçš„è€ƒç‚¹
7. å†é€šä¿—æ˜“æ‡‚çš„è§£é‡Šä¸€éï¼Œ
8. å°ç™½ä¹Ÿæ‡‚çš„è¯­è¨€å†è§£é‡Šä¸€éï¼Œ
9. æä¾›å°ç»“ï¼Œ
10. è®°å¿†å£è¯€ã€‚
è‹±è¯­åŸæ–‡å†…å®¹å¦‚ä¸‹ï¼š

ğŸŸ© ç¬¬15é¡µ
AWS AppSync - Overview
â€¢ AppSync is a managed service that uses GraphQL
â€¢ GraphQL makes it easy for applications to get exactly the data they need.
â€¢ This includes combining data from one or more sources
â€¢ NoSQL data stores, Relational databases, HTTP APIsâ€¦
â€¢ Integrates with DynamoDB, Aurora, OpenSearch & others
â€¢ Custom sources with AWS Lambda
â€¢ Retrieve data in real-time with WebSocket or MQTT on WebSocket
â€¢ For mobile apps: local data access & data synchronization
â€¢ It all starts with uploading one GraphQL schema
--- ç¬¬15é¡µç»“æŸ ---

```